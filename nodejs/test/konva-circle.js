let Konva = require('konva');
var assert = require('assert');

describe('Konva', function () {
    describe('#drawCircle', function () {
        it('should draw a red circle', function () {
            const stage = new Konva.Stage({
                width: 500,
                height: 500
            });
            // then create layer
            var layer = new Konva.Layer();

            // create our shape
            var circle = new Konva.Circle({
                x: stage.width() / 2,
                y: stage.height() / 2,
                radius: 70,
                fill: 'red',
                stroke: 'black',
                strokeWidth: 4
            });

            // add the shape to the layer
            layer.add(circle);

            // add the layer to the stage
            stage.add(layer);

            // draw the image
            layer.draw();

            assert.strictEqual(stage.toDataURL({pixelRatio: 1}), 'data:image/png;base64,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');
        });
    })
});